<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="css/font-awesome.css" rel="stylesheet" />

		<style>
			ul {
				font-size: 14px;
				color: #8f8f94;
			}
			
			.font_color {
				color: #3EBD69;
			}
			
			.mui-btn-link {
				color: white;
			}
			
			.white_font {
				color: white;
			}
			
			.main_top {
				width: 100%;
			}
			
			.mui-btn {
				padding: 10px;
			}
			
			.header {
				background: #1AA094;
				height: 70px;
				font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
				padding-left: 12px;
				top: 8px;
				font-size: 24px;
				color: #fff;
				height: 50px;
				line-height: 50px;
				text-align: left;
			}
		</style>
	</head>

	<body>

		<!-- 侧滑导航根容器 -->

		<!-- 主页面标题 -->
		<header class="mui-bar mui-bar-nav" style="padding-right: 15px;background-color: #3EBD69;">
			<h1 class="mui-title white_font">GLP普捷通</h1>

		</header>

		<div class="mui-content mui-scroll-wrapper" id="rrappm">
			<div class="mui-scroll">
				<!-- 主界面具体展示内容 -->
				<img src="images/main/main_top.png" class="main_top" />
				<ul class="mui-table-view mui-grid-view mui-grid-9">
					<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
						<a href="#">
							<span class="mui-icon  icon-laptop font_color"></span>
							<div class="mui-media-body font_color">审批</div>
						</a>
					</li>
					<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
						<a>
							<span class="mui-icon mui-icon-email  icon-user font_color"><span class="mui-badge">5</span></span>
							<div class="mui-media-body">请假</div>
						</a>
					</li>
					<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
						<a  v-on:click="openDaycheck">
							<span class="mui-icon mui-icon-chatbubble icon-check font_color"></span>
							<div class="mui-media-body">考勤</div>
						</a>
					</li>
					<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
						<a href="#">
							<span class="mui-icon mui-icon-location font_color"></span>
							<div class="mui-media-body">供应商</div>
						</a>
					</li>

					<li  class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
						<a v-on:click="openSetting" >
							<span class="mui-icon mui-icon-gear font_color"></span>
							<div class="mui-media-body">设置</div>
						</a>
					</li>
					<li v-on:click="openSetting" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
						<a v-on:click="openSetting">
							<span class="mui-icon mui-icon-info font_color"></span>
							<div class="mui-media-body">关于</div>
						</a>
					</li>
					<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
						<a href="#">
							<span class="mui-icon mui-icon-more font_color"></span>
							<div class="mui-media-body">更多</div>
						</a>
					</li>
				</ul>
			</div>
		</div>

		<script src="js/mui.min.js"></script>
		<script src="js/app.js"></script>
		<script src="js/vue.min.js"></script>
		<script>
			var vm = new Vue({
				el: '#rrappm',
				data: {

				},
				beforeCreate: function() {
					if(self != top) {
						top.location.href = self.location.href;
					}

				},

				methods: {
					openWorkCheck: function() {

					},
					openDaycheck:function(){
						mui.openWindow({
							url: 'modules/daycheck/daycheck.html',
							id: 'daycheck',
							preload: true,
							show: {
								aniShow: 'pop-in'
							},
							styles: {
								popGesture: 'hide'
							},
							waiting: {
								autoShow: false
							}
						});
					},
					openSetting: function() {
						mui.openWindow({
							url: 'setting.html',
							id: 'setting',
							preload: true,
							show: {
								aniShow: 'pop-in'
							},
							styles: {
								popGesture: 'hide'
							},
							waiting: {
								autoShow: false
							}
						});
					}
				}
			});

			(function($, doc) {
				$.init();
				var settings = app.getSettings();
				var account = doc.getElementById('account');
				//
				window.addEventListener('show', function() {
					var state = app.getState();
					account.innerText = state.account;
				}, false);
				$.plusReady(function() {
					var settingPage = $.preload({
						"id": 'setting',
						"url": 'setting.html'
					});
					//设置
					var settingButton = doc.getElementById('setting');
					//settingButton.style.display = settings.autoLogin ? 'block' : 'none';
					settingButton.addEventListener('tap', function(event) {
						$.openWindow({
							id: 'setting',
							show: {
								aniShow: 'pop-in'
							},
							styles: {
								popGesture: 'hide'
							},
							waiting: {
								autoShow: false
							}
						});
					});
					//--
					$.oldBack = mui.back;
					var backButtonPress = 0;
					$.back = function(event) {
						backButtonPress++;
						if(backButtonPress > 1) {
							plus.runtime.quit();
						} else {
							plus.nativeUI.toast('再按一次退出应用');
						}
						setTimeout(function() {
							backButtonPress = 0;
						}, 1000);
						return false;
					};

				});
			}(mui, document));
		</script>
	</body>

</html>